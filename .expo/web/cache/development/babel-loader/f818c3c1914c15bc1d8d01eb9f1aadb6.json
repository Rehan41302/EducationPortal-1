{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/denoversshehroz/Documents/React Native/Rehan/EducationPortal/components/tutordashboard/TutorDetails.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from \"../../config/fire\";\nimport { firestore } from \"firebase\";\nimport { UrlIsValid } from \"../../service/validations\";\nimport { connect } from \"react-redux\";\nimport store from \"../../store/store\";\nimport { addUserDetailsAction } from \"../../store/actions/userActions\";\n\nvar TutorDetails = function (_React$Component) {\n  _inherits(TutorDetails, _React$Component);\n\n  var _super = _createSuper(TutorDetails);\n\n  function TutorDetails() {\n    var _this;\n\n    _classCallCheck(this, TutorDetails);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      name: \"\",\n      contactNumber: \"\",\n      experience: \"\",\n      subject: \"\",\n      disabled: true,\n      loading: false,\n      errors: {}\n    };\n\n    _this.clearInputs = function () {\n      _this.setState({\n        name: \"\",\n        contactNumber: \"\",\n        experience: \"\",\n        subject: \"\",\n        error: {}\n      });\n    };\n\n    _this.isValid = function () {\n      var _this$state = _this.state,\n          name = _this$state.name,\n          contactNumber = _this$state.contactNumber,\n          experience = _this$state.experience,\n          subject = _this$state.subject;\n      var noError = true;\n\n      if (!name || !contactNumber || !experience || !subject) {\n        _this.setState(function (_ref) {\n          var errors = _ref.errors;\n          return {\n            errors: _objectSpread(_objectSpread({}, errors), {}, {\n              emptyError: \"All Fields are required.\"\n            })\n          };\n        });\n\n        noError = false;\n      }\n\n      return noError;\n    };\n\n    _this.uploadTeacherDetails = function () {\n      console.log(\"clicked\", _this.state);\n\n      _this.setState({\n        errors: {}\n      });\n\n      var _this$state2 = _this.state,\n          name = _this$state2.name,\n          contactNumber = _this$state2.contactNumber,\n          experience = _this$state2.experience,\n          subject = _this$state2.subject;\n      console.log({\n        isValid: _this.isValid()\n      });\n\n      if (_this.isValid()) {\n        _this.setState({\n          loading: true\n        });\n\n        var db = firebase.firestore();\n        db.collection(\"tutors\").doc(_this.props.user.id).set({\n          name: name,\n          contactNumber: contactNumber,\n          experience: experience,\n          subject: subject,\n          createTime: firestore.Timestamp.now()\n        }).then(function (res) {\n          store.dispatch(addUserDetailsAction(_objectSpread(_objectSpread({}, _this.props.user), {}, {\n            name: name,\n            contactNumber: contactNumber,\n            experience: experience,\n            subject: subject\n          })));\n          console.log(\"res---\", res);\n          setTimeout(function () {\n            _this.clearInputs();\n\n            _this.setState({\n              loading: false\n            });\n\n            _this.props.navigation.replace(\"Tutor Profile\");\n          }, 100);\n        }).catch(function (error) {\n          console.error(error.message);\n\n          _this.setState({\n            loading: false\n          });\n\n          Alert.alert(error.message);\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(TutorDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props$user,\n          _this2 = this;\n\n      if ((_this$props$user = this.props.user) == null ? void 0 : _this$props$user.name) {\n        this.props.navigation.replace(\"Tutor Profile\");\n      }\n\n      var _this$state3 = this.state,\n          name = _this$state3.name,\n          contactNumber = _this$state3.contactNumber,\n          experience = _this$state3.experience,\n          subject = _this$state3.subject,\n          loading = _this$state3.loading,\n          errors = _this$state3.errors;\n      var btnDisabled = name && contactNumber && experience && subject && !loading ? false : true;\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.htext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }\n      }, \"Tutor Details\"), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }\n      }, errors.emptyError && React.createElement(Text, {\n        style: styles.emptyError,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, errors.emptyError)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, \"Name\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Enter your Name\",\n        name: \"name\",\n        keyboardType: \"default\",\n        value: this.state.name,\n        required: true,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            name: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, \"Contact Number\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Enter your Contact Number\",\n        name: \"contactNumber\",\n        keyboardType: \"default\",\n        required: true,\n        value: this.state.contactNumber,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            contactNumber: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, \"Experience\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Your Experience\",\n        name: \"experience\",\n        keyboardType: \"default\",\n        required: true,\n        value: this.state.experience,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            experience: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, \"Subject\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Subject you want to Teach\",\n        name: \"subject\",\n        keyboardType: \"default\",\n        required: true,\n        value: this.state.subject,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            subject: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        style: styles.btnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 9\n        }\n      }, React.createElement(Button, {\n        style: styles.btn,\n        onPress: this.uploadTeacherDetails,\n        title: !this.state.loading ? \"Submit\" : \"Loading...\",\n        color: \"#2196F3\",\n        disabled: btnDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return TutorDetails;\n}(React.Component);\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  console.log({\n    state: state\n  });\n  return {\n    user: state.authReducer.user,\n    isAuthenticated: state.authReducer.isAuthenticated\n  };\n};\n\nexport default connect(mapStatetoProps)(TutorDetails);\nvar styles = StyleSheet.create({\n  container: {\n    marginLeft: 15,\n    marginRight: 15\n  },\n  btnView: {\n    marginVertical: 10\n  },\n  btnText: {\n    color: \"white\"\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  htext: {\n    marginTop: 18,\n    marginBottom: 52,\n    fontWeight: \"bold\",\n    fontSize: 26,\n    textAlign: \"center\",\n    marginHorizontal: 62\n  },\n  inputBox: {\n    width: \"100%\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 16,\n    marginVertical: 10\n  },\n  emptyError: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    paddingVertical: 4,\n    color: \"red\"\n  },\n  error: {\n    color: \"red\",\n    fontSize: 12\n  }\n});","map":{"version":3,"sources":["/Users/denoversshehroz/Documents/React Native/Rehan/EducationPortal/components/tutordashboard/TutorDetails.js"],"names":["React","firebase","firestore","UrlIsValid","connect","store","addUserDetailsAction","TutorDetails","state","name","contactNumber","experience","subject","disabled","loading","errors","clearInputs","setState","error","isValid","noError","emptyError","uploadTeacherDetails","console","log","db","collection","doc","props","user","id","set","createTime","Timestamp","now","then","res","dispatch","setTimeout","navigation","replace","catch","message","Alert","alert","btnDisabled","styles","container","htext","label","inputBox","text","btnView","btn","Component","mapStatetoProps","authReducer","isAuthenticated","StyleSheet","create","marginLeft","marginRight","marginVertical","btnText","color","fontSize","fontWeight","marginTop","marginBottom","textAlign","marginHorizontal","width","backgroundColor","borderRadius","borderWidth","borderColor","paddingHorizontal","paddingVertical"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  Image,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  ImageBackground,\n  Button,\n  ActivityIndicator,\n  Alert\n} from \"react-native\";\n// import { Button } from \"native-base\";\nimport firebase from \"../../config/fire\";\nimport { firestore } from \"firebase\";\nimport { UrlIsValid } from \"../../service/validations\";\nimport { connect } from \"react-redux\";\nimport store from \"../../store/store\";\nimport { addUserDetailsAction } from \"../../store/actions/userActions\";\n\nclass TutorDetails extends React.Component {\n  state = {\n    name: \"\",\n    contactNumber: \"\",\n    experience: \"\",\n    subject: \"\",\n    disabled: true,\n    loading: false,\n    errors: {}\n  };\n\n  clearInputs = () => {\n    this.setState({\n      name: \"\",\n      contactNumber: \"\",\n      experience: \"\",\n      subject: \"\",\n      error: {}\n    });\n  };\n\n  isValid = () => {\n    const { name, contactNumber, experience, subject } = this.state;\n    let noError = true;\n    if (!name || !contactNumber || !experience || !subject) {\n      this.setState(({ errors }) => ({\n        errors: { ...errors, emptyError: \"All Fields are required.\" }\n      }));\n      noError = false;\n    }\n    return noError;\n  };\n\n  uploadTeacherDetails = () => {\n    console.log(\"clicked\", this.state);\n    this.setState({ errors: {} });\n    const { name, contactNumber, experience, subject } = this.state;\n    // this.clearInputs();\n    console.log({ isValid: this.isValid() });\n    if (this.isValid()) {\n      this.setState({ loading: true });\n      const db = firebase.firestore();\n      db.collection(\"tutors\")\n        .doc(this.props.user.id)\n        .set({\n          name,\n          contactNumber,\n          experience,\n          subject,\n          createTime: firestore.Timestamp.now()\n        })\n        .then(res => {\n          store.dispatch(\n            addUserDetailsAction({\n              ...this.props.user,\n              name,\n              contactNumber,\n              experience,\n              subject\n            })\n          );\n          console.log(\"res---\", res);\n          setTimeout(() => {\n            this.clearInputs();\n            this.setState({ loading: false });\n            this.props.navigation.replace(\"Tutor Profile\");\n          }, 100);\n        })\n        .catch(error => {\n          console.error(error.message);\n          this.setState({ loading: false });\n          Alert.alert(error.message);\n        });\n    }\n  };\n\n  render() {\n    if (this.props.user?.name) {\n      this.props.navigation.replace(\"Tutor Profile\");\n    }\n\n    const {\n      name,\n      contactNumber,\n      experience,\n      subject,\n      loading,\n      errors\n    } = this.state;\n    // console.log({ props: this.props });\n    let btnDisabled =\n      name && contactNumber && experience && subject && !loading ? false : true;\n    return (\n      <ScrollView style={styles.container}>\n        <Text style={styles.htext}>Tutor Details</Text>\n        <View>\n          {errors.emptyError && (\n            <Text style={styles.emptyError}>{errors.emptyError}</Text>\n          )}\n        </View>\n        <View>\n          <Text style={styles.label}>Name</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Enter your Name\"\n            name=\"name\"\n            keyboardType=\"default\"\n            value={this.state.name}\n            required\n            onChangeText={text => {\n              this.setState({ name: text });\n            }}\n          />\n        </View>\n        <View>\n          <Text style={styles.label}>Contact Number</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Enter your Contact Number\"\n            name=\"contactNumber\"\n            keyboardType=\"default\"\n            required\n            value={this.state.contactNumber}\n            onChangeText={text => {\n              this.setState({ contactNumber: text });\n            }}\n          />\n        </View>\n        <View>\n          <Text style={styles.label}>Experience</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Your Experience\"\n            name=\"experience\"\n            keyboardType=\"default\"\n            required\n            value={this.state.experience}\n            onChangeText={text => {\n              this.setState({ experience: text });\n            }}\n          />\n        </View>\n        <View>\n          <Text style={styles.label}>Subject</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Subject you want to Teach\"\n            name=\"subject\"\n            keyboardType=\"default\"\n            required\n            value={this.state.subject}\n            onChangeText={text => {\n              this.setState({ subject: text });\n            }}\n          />\n        </View>\n\n        <View style={styles.btnView}>\n          <Button\n            style={styles.btn}\n            onPress={this.uploadTeacherDetails}\n            // title={!this.state.loading ? \"Submit\" : <ActivityIndicator />}\n            title={!this.state.loading ? \"Submit\" : \"Loading...\"}\n            color=\"#2196F3\"\n            disabled={btnDisabled}\n          />\n        </View>\n      </ScrollView>\n    );\n  }\n}\n\nconst mapStatetoProps = state => {\n  console.log({ state });\n  return {\n    user: state.authReducer.user,\n    isAuthenticated: state.authReducer.isAuthenticated\n  };\n};\n\nexport default connect(mapStatetoProps)(TutorDetails);\n\nconst styles = StyleSheet.create({\n  container: {\n    marginLeft: 15,\n    marginRight: 15\n  },\n  btnView: {\n    marginVertical: 10\n  },\n  btnText: {\n    color: \"white\"\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  htext: {\n    marginTop: 18,\n    marginBottom: 52,\n    fontWeight: \"bold\",\n    fontSize: 26,\n    textAlign: \"center\",\n    marginHorizontal: 62\n  },\n  inputBox: {\n    width: \"100%\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 16,\n    // color: \"#efefef\",\n    marginVertical: 10\n  },\n  emptyError: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    paddingVertical: 4,\n    color: \"red\"\n  },\n  error: {\n    color: \"red\",\n    fontSize: 12\n  }\n});\n"]},"metadata":{},"sourceType":"module"}