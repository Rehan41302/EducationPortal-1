{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/denoversshehroz/Documents/React Native/Rehan/EducationPortal/components/tutordashboard/OnlineClass.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport firebase from \"../../config/fire\";\nimport { firestore } from \"firebase\";\nimport { UrlIsValid } from \"../../service/validations\";\n\nvar OnlineClass = function (_React$Component) {\n  _inherits(OnlineClass, _React$Component);\n\n  var _super = _createSuper(OnlineClass);\n\n  function OnlineClass() {\n    var _this;\n\n    _classCallCheck(this, OnlineClass);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      className: \"\",\n      course: \"\",\n      timing: \"\",\n      zoomLink: \"\",\n      disabled: true,\n      loading: false,\n      errors: {}\n    };\n\n    _this.clearInputs = function () {\n      _this.setState({\n        course: \"\",\n        timing: \"\",\n        zoomLink: \"\",\n        error: {}\n      });\n    };\n\n    _this.isValid = function () {\n      var _this$state = _this.state,\n          course = _this$state.course,\n          timing = _this$state.timing,\n          zoomLink = _this$state.zoomLink;\n      var noError = true;\n\n      if (course && timing && zoomLink) {\n        _this.setState(function (_ref) {\n          var errors = _ref.errors;\n          return {\n            errors: _objectSpread(_objectSpread({}, errors), {}, {\n              emptyError: \"All Fields are required.\"\n            })\n          };\n        }, function () {\n          return noError = false;\n        });\n      }\n\n      if (!UrlIsValid(zoomLink)) _this.setState(function (_ref2) {\n        var errors = _ref2.errors;\n        return {\n          error: _objectSpread(_objectSpread({}, errors), {}, {\n            zoomLink: \"Invalid Link.\"\n          })\n        };\n      }, function () {\n        return noError = false;\n      });\n      return noError;\n    };\n\n    _this.uploadNewClass = function () {\n      console.log(\"clicked\", _this.state);\n\n      _this.setState({\n        errors: {}\n      });\n\n      var _this$state2 = _this.state,\n          course = _this$state2.course,\n          timing = _this$state2.timing,\n          zoomLink = _this$state2.zoomLink;\n\n      if (_this.isValid()) {\n        _this.setState({\n          loading: true\n        });\n\n        var db = firebase.firestore();\n        db.collection(\"onlineclasses\").add({\n          course: course,\n          timing: timing,\n          zoomLink: zoomLink,\n          uploadTime: firestore.Timestamp.now()\n        }).then(function (res) {\n          _this.setState({\n            loading: false\n          });\n\n          _this.clearInputs();\n\n          _this.props.navigation.goBack();\n        }).catch(function (error) {\n          console.error(error.message);\n\n          _this.setState({\n            loading: false\n          });\n\n          Alert.alert(error.message);\n        });\n      } else _this.setState(function (_ref3) {\n        var error = _ref3.error;\n        return {\n          error: _objectSpread(_objectSpread({}, error), {}, {\n            emptyError: \"All Fields are required.\"\n          })\n        };\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(OnlineClass, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          course = _this$state3.course,\n          timing = _this$state3.timing,\n          zoomLink = _this$state3.zoomLink,\n          loading = _this$state3.loading,\n          errors = _this$state3.errors;\n      var btnDisabled = course && timing && zoomLink && !loading ? false : true;\n      return React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.htext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, \"Online Class\"), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: errors.emptyError ? _objectSpread(_objectSpread({}, styles.emptyError), {}, {\n          display: \"block\"\n        }) : {\n          display: \"none\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, \"Course\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Enter Course\",\n        name: \"course\",\n        keyboardType: \"default\",\n        value: this.state.course,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            course: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, \"Time\"), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Class Timing\",\n        name: \"timing\",\n        keyboardType: \"default\",\n        value: this.state.timing,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            timing: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.label,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, \"Zoom Link\"), React.createElement(Text, {\n        style: errors.zoomLink ? _objectSpread(_objectSpread({}, styles.error), {}, {\n          display: \"block\"\n        }) : _objectSpread({}, styles.error),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }), React.createElement(TextInput, {\n        style: styles.inputBox,\n        underlineColorAndroid: \"rgba(0,0,0,0)\",\n        placeholder: \"Paste Zoom Link Here\",\n        name: \"zoomLink\",\n        keyboardType: \"default\",\n        value: this.state.zoomLink,\n        onChangeText: function onChangeText(text) {\n          _this2.setState({\n            zoomLink: text\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      })), React.createElement(View, {\n        style: styles.btnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 9\n        }\n      }, React.createElement(Button, {\n        style: styles.btn,\n        onPress: this.uploadNewClass,\n        title: !this.state.loading ? \"Submit\" : \"Loading...\",\n        color: \"#2196F3\",\n        disabled: btnDisabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return OnlineClass;\n}(React.Component);\n\nexport { OnlineClass as default };\nvar styles = StyleSheet.create({\n  container: {\n    marginLeft: 15,\n    marginRight: 15\n  },\n  btnView: {\n    marginVertical: 10\n  },\n  btnText: {\n    color: \"white\"\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  htext: {\n    marginTop: 18,\n    marginBottom: 52,\n    fontWeight: \"bold\",\n    fontSize: 26,\n    textAlign: \"center\",\n    marginHorizontal: 62\n  },\n  inputBox: {\n    width: \"100%\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 16,\n    marginVertical: 10\n  },\n  emptyError: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    paddingVertical: 4,\n    color: \"red\",\n    display: \"none\"\n  },\n  error: {\n    color: \"red\",\n    display: \"none\"\n  }\n});","map":{"version":3,"sources":["/Users/denoversshehroz/Documents/React Native/Rehan/EducationPortal/components/tutordashboard/OnlineClass.js"],"names":["React","firebase","firestore","UrlIsValid","OnlineClass","state","className","course","timing","zoomLink","disabled","loading","errors","clearInputs","setState","error","isValid","noError","emptyError","uploadNewClass","console","log","db","collection","add","uploadTime","Timestamp","now","then","res","props","navigation","goBack","catch","message","Alert","alert","btnDisabled","styles","container","htext","display","label","inputBox","text","btnView","btn","Component","StyleSheet","create","marginLeft","marginRight","marginVertical","btnText","color","fontSize","fontWeight","marginTop","marginBottom","textAlign","marginHorizontal","width","backgroundColor","borderRadius","borderWidth","borderColor","paddingHorizontal","paddingVertical"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;;;AAeA,OAAOC,QAAP;AACA,SAASC,SAAT,QAA0B,UAA1B;AACA,SAASC,UAAT;;IAEqBC,W;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,SAAS,EAAE,EADL;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,MAAM,EAAE,EAHF;AAINC,MAAAA,QAAQ,EAAE,EAJJ;AAKNC,MAAAA,QAAQ,EAAE,IALJ;AAMNC,MAAAA,OAAO,EAAE,KANH;AAONC,MAAAA,MAAM,EAAE;AAPF,K;;UAURC,W,GAAc,YAAM;AAClB,YAAKC,QAAL,CAAc;AACZP,QAAAA,MAAM,EAAE,EADI;AAEZC,QAAAA,MAAM,EAAE,EAFI;AAGZC,QAAAA,QAAQ,EAAE,EAHE;AAIZM,QAAAA,KAAK,EAAE;AAJK,OAAd;AAMD,K;;UAEDC,O,GAAU,YAAM;AAAA,wBACuB,MAAKX,KAD5B;AAAA,UACNE,MADM,eACNA,MADM;AAAA,UACEC,MADF,eACEA,MADF;AAAA,UACUC,QADV,eACUA,QADV;AAEd,UAAIQ,OAAO,GAAG,IAAd;;AACA,UAAIV,MAAM,IAAIC,MAAV,IAAoBC,QAAxB,EAAkC;AAChC,cAAKK,QAAL,CACE;AAAA,cAAGF,MAAH,QAAGA,MAAH;AAAA,iBAAiB;AACfA,YAAAA,MAAM,kCAAOA,MAAP;AAAeM,cAAAA,UAAU,EAAE;AAA3B;AADS,WAAjB;AAAA,SADF,EAIE;AAAA,iBAAOD,OAAO,GAAG,KAAjB;AAAA,SAJF;AAMD;;AACD,UAAI,CAACd,UAAU,CAACM,QAAD,CAAf,EACE,MAAKK,QAAL,CACE;AAAA,YAAGF,MAAH,SAAGA,MAAH;AAAA,eAAiB;AACfG,UAAAA,KAAK,kCAAOH,MAAP;AAAeH,YAAAA,QAAQ,EAAE;AAAzB;AADU,SAAjB;AAAA,OADF,EAIE;AAAA,eAAOQ,OAAO,GAAG,KAAjB;AAAA,OAJF;AAMF,aAAOA,OAAP;AACD,K;;UAEDE,c,GAAiB,YAAM;AACrBC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,MAAKhB,KAA5B;;AACA,YAAKS,QAAL,CAAc;AAAEF,QAAAA,MAAM,EAAE;AAAV,OAAd;;AAFqB,yBAGgB,MAAKP,KAHrB;AAAA,UAGbE,MAHa,gBAGbA,MAHa;AAAA,UAGLC,MAHK,gBAGLA,MAHK;AAAA,UAGGC,QAHH,gBAGGA,QAHH;;AAKrB,UAAI,MAAKO,OAAL,EAAJ,EAAoB;AAClB,cAAKF,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAE;AAAX,SAAd;;AACA,YAAMW,EAAE,GAAGrB,QAAQ,CAACC,SAAT,EAAX;AACAoB,QAAAA,EAAE,CAACC,UAAH,CAAc,eAAd,EACGC,GADH,CACO;AACHjB,UAAAA,MAAM,EAANA,MADG;AAEHC,UAAAA,MAAM,EAANA,MAFG;AAGHC,UAAAA,QAAQ,EAARA,QAHG;AAIHgB,UAAAA,UAAU,EAAEvB,SAAS,CAACwB,SAAV,CAAoBC,GAApB;AAJT,SADP,EAOGC,IAPH,CAOQ,UAAAC,GAAG,EAAI;AACX,gBAAKf,QAAL,CAAc;AAAEH,YAAAA,OAAO,EAAE;AAAX,WAAd;;AAEA,gBAAKE,WAAL;;AACA,gBAAKiB,KAAL,CAAWC,UAAX,CAAsBC,MAAtB;AACD,SAZH,EAaGC,KAbH,CAaS,UAAAlB,KAAK,EAAI;AACdK,UAAAA,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACmB,OAApB;;AACA,gBAAKpB,QAAL,CAAc;AAAEH,YAAAA,OAAO,EAAE;AAAX,WAAd;;AACAwB,UAAAA,KAAK,CAACC,KAAN,CAAYrB,KAAK,CAACmB,OAAlB;AACD,SAjBH;AAkBD,OArBD,MAsBE,MAAKpB,QAAL,CAAc;AAAA,YAAGC,KAAH,SAAGA,KAAH;AAAA,eAAgB;AAC5BA,UAAAA,KAAK,kCAAOA,KAAP;AAAcG,YAAAA,UAAU,EAAE;AAA1B;AADuB,SAAhB;AAAA,OAAd;AAGH,K;;;;;;;6BAEQ;AAAA;;AAAA,yBAC+C,KAAKb,KADpD;AAAA,UACCE,MADD,gBACCA,MADD;AAAA,UACSC,MADT,gBACSA,MADT;AAAA,UACiBC,QADjB,gBACiBA,QADjB;AAAA,UAC2BE,OAD3B,gBAC2BA,OAD3B;AAAA,UACoCC,MADpC,gBACoCA,MADpC;AAEP,UAAIyB,WAAW,GAAG9B,MAAM,IAAIC,MAAV,IAAoBC,QAApB,IAAgC,CAACE,OAAjC,GAA2C,KAA3C,GAAmD,IAArE;AACA,aACE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE2B,MAAM,CAACC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAiBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,KAAK,EACH5B,MAAM,CAACM,UAAP,mCACSoB,MAAM,CAACpB,UADhB;AAC4BuB,UAAAA,OAAO,EAAE;AADrC,aAEI;AAAEA,UAAAA,OAAO,EAAE;AAAX,SAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAjBF,EA0BE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEH,MAAM,CAACI,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE,oBAAC,SAAD;AACE,QAAA,KAAK,EAAEJ,MAAM,CAACK,QADhB;AAEE,QAAA,qBAAqB,EAAC,eAFxB;AAGE,QAAA,WAAW,EAAC,cAHd;AAIE,QAAA,IAAI,EAAC,QAJP;AAKE,QAAA,YAAY,EAAC,SALf;AAME,QAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWE,MANpB;AAOE,QAAA,YAAY,EAAE,sBAAAqC,IAAI,EAAI;AACpB,UAAA,MAAI,CAAC9B,QAAL,CAAc;AAAEP,YAAAA,MAAM,EAAEqC;AAAV,WAAd;AACD,SATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CA1BF,EAwCE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACI,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,SAAD;AACE,QAAA,KAAK,EAAEJ,MAAM,CAACK,QADhB;AAEE,QAAA,qBAAqB,EAAC,eAFxB;AAGE,QAAA,WAAW,EAAC,cAHd;AAIE,QAAA,IAAI,EAAC,QAJP;AAKE,QAAA,YAAY,EAAC,SALf;AAME,QAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWG,MANpB;AAOE,QAAA,YAAY,EAAE,sBAAAoC,IAAI,EAAI;AACpB,UAAA,MAAI,CAAC9B,QAAL,CAAc;AAAEN,YAAAA,MAAM,EAAEoC;AAAV,WAAd;AACD,SATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAxCF,EAsDE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACI,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE,oBAAC,IAAD;AACE,QAAA,KAAK,EACH9B,MAAM,CAACH,QAAP,mCACS6B,MAAM,CAACvB,KADhB;AACuB0B,UAAAA,OAAO,EAAE;AADhC,+BAESH,MAAM,CAACvB,KAFhB,CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EASE,oBAAC,SAAD;AACE,QAAA,KAAK,EAAEuB,MAAM,CAACK,QADhB;AAEE,QAAA,qBAAqB,EAAC,eAFxB;AAGE,QAAA,WAAW,EAAC,sBAHd;AAIE,QAAA,IAAI,EAAC,UAJP;AAKE,QAAA,YAAY,EAAC,SALf;AAME,QAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWI,QANpB;AAOE,QAAA,YAAY,EAAE,sBAAAmC,IAAI,EAAI;AACpB,UAAA,MAAI,CAAC9B,QAAL,CAAc;AAAEL,YAAAA,QAAQ,EAAEmC;AAAZ,WAAd;AACD,SATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CAtDF,EA2EE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACO,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAEP,MAAM,CAACQ,GADhB;AAEE,QAAA,OAAO,EAAE,KAAK3B,cAFhB;AAIE,QAAA,KAAK,EAAE,CAAC,KAAKd,KAAL,CAAWM,OAAZ,GAAsB,QAAtB,GAAiC,YAJ1C;AAKE,QAAA,KAAK,EAAC,SALR;AAME,QAAA,QAAQ,EAAE0B,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CA3EF,CADF;AAwFD;;;;EApKsCrC,KAAK,CAAC+C,S;;SAA1B3C,W;AAuKrB,IAAMkC,MAAM,GAAGU,UAAU,CAACC,MAAX,CAAkB;AAC/BV,EAAAA,SAAS,EAAE;AACTW,IAAAA,UAAU,EAAE,EADH;AAETC,IAAAA,WAAW,EAAE;AAFJ,GADoB;AAK/BN,EAAAA,OAAO,EAAE;AACPO,IAAAA,cAAc,EAAE;AADT,GALsB;AAQ/BC,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,EAAE;AADA,GARsB;AAW/BZ,EAAAA,KAAK,EAAE;AACLa,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,UAAU,EAAE;AAFP,GAXwB;AAe/BhB,EAAAA,KAAK,EAAE;AACLiB,IAAAA,SAAS,EAAE,EADN;AAELC,IAAAA,YAAY,EAAE,EAFT;AAGLF,IAAAA,UAAU,EAAE,MAHP;AAILD,IAAAA,QAAQ,EAAE,EAJL;AAKLI,IAAAA,SAAS,EAAE,QALN;AAMLC,IAAAA,gBAAgB,EAAE;AANb,GAfwB;AAuB/BjB,EAAAA,QAAQ,EAAE;AACRkB,IAAAA,KAAK,EAAE,MADC;AAERC,IAAAA,eAAe,EAAE,SAFT;AAGRC,IAAAA,YAAY,EAAE,CAHN;AAIRC,IAAAA,WAAW,EAAE,CAJL;AAKRC,IAAAA,WAAW,EAAE,MALL;AAMRC,IAAAA,iBAAiB,EAAE,EANX;AAORC,IAAAA,eAAe,EAAE,EAPT;AAQRZ,IAAAA,QAAQ,EAAE,EARF;AAURH,IAAAA,cAAc,EAAE;AAVR,GAvBqB;AAmC/BlC,EAAAA,UAAU,EAAE;AACV8C,IAAAA,WAAW,EAAE,CADH;AAEVC,IAAAA,WAAW,EAAE,KAFH;AAGVE,IAAAA,eAAe,EAAE,CAHP;AAIVb,IAAAA,KAAK,EAAE,KAJG;AAKVb,IAAAA,OAAO,EAAE;AALC,GAnCmB;AA0C/B1B,EAAAA,KAAK,EAAE;AACLuC,IAAAA,KAAK,EAAE,KADF;AAELb,IAAAA,OAAO,EAAE;AAFJ;AA1CwB,CAAlB,CAAf","sourcesContent":["import React from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  Image,\n  ScrollView,\n  TextInput,\n  TouchableOpacity,\n  ImageBackground,\n  Button,\n  ActivityIndicator,\n  Alert\n} from \"react-native\";\n// import { Button } from \"native-base\";\nimport firebase from \"../../config/fire\";\nimport { firestore } from \"firebase\";\nimport { UrlIsValid } from \"../../service/validations\";\n\nexport default class OnlineClass extends React.Component {\n  state = {\n    className: \"\",\n    course: \"\",\n    timing: \"\",\n    zoomLink: \"\",\n    disabled: true,\n    loading: false,\n    errors: {}\n  };\n\n  clearInputs = () => {\n    this.setState({\n      course: \"\",\n      timing: \"\",\n      zoomLink: \"\",\n      error: {}\n    });\n  };\n\n  isValid = () => {\n    const { course, timing, zoomLink } = this.state;\n    let noError = true;\n    if (course && timing && zoomLink) {\n      this.setState(\n        ({ errors }) => ({\n          errors: { ...errors, emptyError: \"All Fields are required.\" }\n        }),\n        () => (noError = false)\n      );\n    }\n    if (!UrlIsValid(zoomLink))\n      this.setState(\n        ({ errors }) => ({\n          error: { ...errors, zoomLink: \"Invalid Link.\" }\n        }),\n        () => (noError = false)\n      );\n    return noError;\n  };\n\n  uploadNewClass = () => {\n    console.log(\"clicked\", this.state);\n    this.setState({ errors: {} });\n    const { course, timing, zoomLink } = this.state;\n    // this.clearInputs();\n    if (this.isValid()) {\n      this.setState({ loading: true });\n      const db = firebase.firestore();\n      db.collection(\"onlineclasses\")\n        .add({\n          course,\n          timing,\n          zoomLink,\n          uploadTime: firestore.Timestamp.now()\n        })\n        .then(res => {\n          this.setState({ loading: false });\n          // console.log(\"res---\", res);\n          this.clearInputs();\n          this.props.navigation.goBack();\n        })\n        .catch(error => {\n          console.error(error.message);\n          this.setState({ loading: false });\n          Alert.alert(error.message);\n        });\n    } else\n      this.setState(({ error }) => ({\n        error: { ...error, emptyError: \"All Fields are required.\" }\n      }));\n  };\n\n  render() {\n    const { course, timing, zoomLink, loading, errors } = this.state;\n    let btnDisabled = course && timing && zoomLink && !loading ? false : true;\n    return (\n      <ScrollView style={styles.container}>\n        <Text style={styles.htext}>Online Class</Text>\n        {/* <View>\n          <Text style={styles.label}>Class</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Enter Class\"\n            name=\"className\"\n            keyboardType=\"default\"\n            value={this.state.className}\n            required\n            onChangeText={text => {\n              this.setState({ className: text });\n            }}\n          />\n        </View> */}\n        <View>\n          <Text\n            style={\n              errors.emptyError\n                ? { ...styles.emptyError, display: \"block\" }\n                : { display: \"none\" }\n            }\n          ></Text>\n        </View>\n        <View>\n          <Text style={styles.label}>Course</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Enter Course\"\n            name=\"course\"\n            keyboardType=\"default\"\n            value={this.state.course}\n            onChangeText={text => {\n              this.setState({ course: text });\n            }}\n          />\n        </View>\n        <View>\n          <Text style={styles.label}>Time</Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Class Timing\"\n            name=\"timing\"\n            keyboardType=\"default\"\n            value={this.state.timing}\n            onChangeText={text => {\n              this.setState({ timing: text });\n            }}\n          />\n        </View>\n        <View>\n          <Text style={styles.label}>Zoom Link</Text>\n          <Text\n            style={\n              errors.zoomLink\n                ? { ...styles.error, display: \"block\" }\n                : { ...styles.error }\n            }\n          ></Text>\n          <TextInput\n            style={styles.inputBox}\n            underlineColorAndroid=\"rgba(0,0,0,0)\"\n            placeholder=\"Paste Zoom Link Here\"\n            name=\"zoomLink\"\n            keyboardType=\"default\"\n            value={this.state.zoomLink}\n            onChangeText={text => {\n              this.setState({ zoomLink: text });\n            }}\n          />\n        </View>\n        <View style={styles.btnView}>\n          <Button\n            style={styles.btn}\n            onPress={this.uploadNewClass}\n            // title={!this.state.loading ? \"Submit\" : <ActivityIndicator />}\n            title={!this.state.loading ? \"Submit\" : \"Loading...\"}\n            color=\"#2196F3\"\n            disabled={btnDisabled}\n          />\n        </View>\n      </ScrollView>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    marginLeft: 15,\n    marginRight: 15\n  },\n  btnView: {\n    marginVertical: 10\n  },\n  btnText: {\n    color: \"white\"\n  },\n  label: {\n    fontSize: 16,\n    fontWeight: \"bold\"\n  },\n  htext: {\n    marginTop: 18,\n    marginBottom: 52,\n    fontWeight: \"bold\",\n    fontSize: 26,\n    textAlign: \"center\",\n    marginHorizontal: 62\n  },\n  inputBox: {\n    width: \"100%\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    borderWidth: 1,\n    borderColor: \"grey\",\n    paddingHorizontal: 16,\n    paddingVertical: 10,\n    fontSize: 16,\n    // color: \"#efefef\",\n    marginVertical: 10\n  },\n  emptyError: {\n    borderWidth: 1,\n    borderColor: \"red\",\n    paddingVertical: 4,\n    color: \"red\",\n    display: \"none\"\n  },\n  error: {\n    color: \"red\",\n    display: \"none\"\n  }\n});\n"]},"metadata":{},"sourceType":"module"}